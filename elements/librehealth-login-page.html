<head>
    <title>Librehealth Login Page </title>
    <link rel="stylesheet" href="../css/main.css">
    <link href="../bower_components/polymer/polymer.html" rel="import">
    <script src="../bower_components/jquery/dist/jquery.min.js"></script>
    <script src="../js/main.js"></script>
</head>

<dom-module id="librehealth-login-page">

    <template>
        <span id="welcomeUser"></span>
        <a on-click="loginorlogout">
            <span id="authenticationLabel"></span>
            <i class="icon-signout small"></i>
        </a>

        <div id="loginFormDiv" class="loginPanel ">

            <form id="loginForm" class="loginPanel-content animate">

                <div class="imgcontainer">
                    <span onclick="resetAndCloseForm()" class="close" title="Close Panel">&times;</span>
                    <img id="logo" src="../img/logo.png" alt="LibreHealth logo">
                </div>

                <div class="container">
                    <label><b>Username</b></label>
                    <input type="text" placeholder="Enter Username" id="uname" name="uname" required>

                    <label><b>Password</b></label>
                    <input type="password" placeholder="Enter Password" id="psw" name="psw" required>
                    <span id="errorMsg" style="color:red"></span>

                    <div>
                        <button on-click="handleClick">Login</button>
                    </div>
                    <div class="container" style="background-color:#f1f1f1">
                        <input type="checkbox" checked="checked"> Remember me
                    </div>
                </div>
            </form>
        </div>
    </template>
</dom-module>

<script>
  // element registration
  Polymer({
    is: "librehealth-login-page",
    loginorlogout: function ()
    {
        if (sessionStorage.getItem("authentication") === "true")
        {
            logout();
        }
        else
        {
            showPanel();
        }
    },
    properties: {
      onLoginRedirectUrl: String
    },
    handleClick: function(e) {
      login(this.onLoginRedirectUrl);
    }
  });
</script>
